## DDBOT常见问题问答

### Q：为什么我设置了@全体成员却没效果？

- 我使用的是官方bot：

首先@全体成员无法在官方demo bot上正常使用，如果您使用的是官方bot，该问题是已知的，请使用@特定用户作为替代。
（这是因为一个账号一天只能@全体成员十次，该次数在所有群内共享，因为官方bot用户众多，很容易把次数用尽，用尽后即无法再@全体成员）

- 我使用的是私人部署的bot：

请检查是否把bot设为qq群管理员，检查`/config at_all`配置是否设置为`on`，如果确认配置无问题，请把该问题提交给开发者。

### Q：为什么我在群里发指令它没反应？

- 我使用的是官方bot：

请确认该命令是正确的，以及该命令没有被管理员禁用，最后确认bot处于正常运行的状态（可以使用/help测试有没有反应），如果确认后仍然没有解决，请把该问题提交给开发者。

- 我使用的是私人部署的bot：

请检查后台有无反应，如果后台有发送消息失败的日志但是qq没有收到，大概率是qq帐号处于风控帐号，需要人工登陆帐号正常使用一段时间以解除风控（注意不要再继续使用BOT了，否则会导致被封号）。

如果后台没有消息发送失败的日志，但是qq也没有收到，该情况小概率触发，一般交替使用别的命令数次，以及等待一段时间可以解决。

如果后台无法接受消息，请用手机登陆bot帐号，在设备管理页面把`mirai`名字的设备全部删除，等待一段时间重新登陆。

### Q：为什么我无法订阅b站动态/直播？

- 我使用的是官方bot：

请把该问题提交给开发者。

- 我使用的是私人部署的bot：

请检查b站配置完整，用文本编辑`application.yaml`文件，需要配置`bilibili`一栏的`account`和`password`。

常见情况：

- 写错了帐号/密码
- 填写了错误的格式

一个格式示范：

英文引号后需要一个英文空格，帐号和密码用英文引号括起来

```yaml
bilibili:
  account: "account"
  password: "password"
```

- 如果上面确认无误，那您的b站帐号不支持自动登陆，此时只能手动设置cookie，如果不知道如何查看cookie，请百度搜索`如何查看cookie`

**cookie内容可能较长，请确认复制完整**

请按照下面格式配置，注意把`account`和`password`删除

```yaml
# b站登陆后的cookie字段，从cookie中找到这两个填进去
# 警告：
# SESSDATA和bili_jct等价于您的帐号凭证
# 请绝对不要透露给他人，更不能上传至Github等公开平台
# 否则将导致您的帐号被盗
bilibili:
  SESSDATA: "xxxxxxxxxxxx"
  bili_jct: "xxxxxxxxxxxx"
```

**获取cookie后，不可点击b站的退出登陆，否则cookie将失效，您可以使用浏览器的清除历史记录功能，或者在浏览器隐私窗口内登陆获取**

**注意：刚注册的号有时候关注时会提示“账户异常”，此为B站帐号的原因，无法在DDBOT解决**

### Q：为什么我订阅了动态/直播没有推送？

- 我使用的是官方bot：

检查是否使用`/config filter`设置了动态过滤。

- 我使用的是私人部署的bot

检查bot日志是否有该条`notify`，以及是否有消息发送失败。

### Q：为什么我私人部署的bot修改了配置后运行时闪退？

因为配置格式填写的不对，一些填写时注意事项：

- 填写时请把井号及后面的内容删除
- 所有引号、冒号均需要使用英文（半角）格式
- 冒号后需要加一个英文空格

### Q：为什么我私人部署的bot会出现发送群消息失败？

如果您是刚开始使用BOT，大概是因为qq账号被风控导致，建议使用bot挂机3-7天（期间请不要使用bot的功能，否则可能导致封号），即可解除风控。

如果仍出现问题，请删除`device.json`文件，重复上面的步骤。

### Q：我下载的DDBOT程序应该如何运行？

检查您是否下载了正确的程序，windows程序应该有.exe后缀。

- 根据系统选择windows / linux / darwin
- 根据架构选择 32位->386 / 64位->amd64 / arm->arm

例如您的系统是windows 11/10/7/server，64位则选择windows-amd64下载，32位则选择windows-386下载。

### Q：我的数据库文件损坏如何处理？

**操作前请备份.lsp.db文件**

尝试进行下面的操作：

- 用文本编辑器打开.lsp.db文件，删掉最后一行，然后测试能否正常启动。

连续重试上面步骤数十次，如果仍然无法解决，请到交流群内寻求帮助。